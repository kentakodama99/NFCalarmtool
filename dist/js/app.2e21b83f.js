(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],m=0,p=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},2089:function(t,e,a){},3182:function(t,e,a){},"4d99":function(t,e,a){},"565f":function(t,e,a){"use strict";a("2089")},"56d7":function(t,e,a){"use strict";a.r(e);a("e623"),a("e379"),a("5dc8"),a("37e1");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header"),a("router-view")],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{attrs:{id:"top-header"}},[a("div",{staticClass:"flex"},[a("p",{staticClass:"header-logo"},[t._v("目覚まし時計")]),a("p",{staticClass:"header-time"},[a("Timenow")],1)])])},o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"timenow"}},[a("p",[t._v(t._s(t.now))])])},l=[],u=(a("fb6a"),{data:function(){return{now:""}},created:function(){setInterval(this.updateTime,1e3)},methods:{updateTime:function(){var t=new Date,e=t.getHours(),a=t.getMinutes();a=("0"+a).slice(-2),this.now=e+":"+a}}}),m=u,p=a("2877"),h=Object(p["a"])(m,c,l,!1,null,null,null),d=h.exports,f={components:{Timenow:d}},v=f,g=(a("720f"),Object(p["a"])(v,i,o,!1,null,"84848f0a",null)),_=g.exports,w={components:{Header:_}},b=w,x=(a("034f"),Object(p["a"])(b,r,s,!1,null,null,null)),C=x.exports,y=a("8c4f"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[t._m(0),a("div",{staticClass:"set-box"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.alarm.inth,expression:"alarm.inth"}],staticClass:"time",attrs:{type:"number"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.alarm,"inth",e.target.multiple?a:a[0])}}},[a("option",[t._v("0")]),t._l(23,(function(e){return a("option",{key:e},[t._v(t._s(e))])}))],2),a("p",[t._v("時")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.alarm.intm,expression:"alarm.intm"}],staticClass:"time",attrs:{type:"number"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.alarm,"intm",e.target.multiple?a:a[0])}}},[a("option",[t._v("0")]),t._l(59,(function(e){return a("option",{key:e},[t._v(t._s(e))])}))],2),a("p",[t._v("分")])]),a("Setmenu",{attrs:{parentData:t.alarm}}),a("Detail")],1)},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time-box"},[a("p",{staticClass:"timetitle"},[t._v("目覚まし時刻を入力してください")])])}],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Setmenu"}},[a("div",{staticClass:"button-submit"},[a("button",{staticClass:"button",on:{click:function(e){t.setting(),t.openModal()}}},[a("p",[t._v("set")])]),a("transition",{attrs:{name:"fade"}},[t.Modal.show?a("div",{attrs:{id:"overlay"}},[t.swich?a("div",[a("div",{staticClass:"Modalbox-true"},[a("p",[t._v("アラーム設定中です")]),a("div",{staticClass:"Modalsettext"},[a("p",[t._v("設定時刻")]),a("p",[t._v(t._s(this.alarm.temp))])]),a("button",{staticClass:"alarm-button",on:{click:function(e){t.getreset(),t.closeModal()}}},[a("p",[t._v("Cansel")])]),a("div",[a("button",{staticClass:"earlystop",on:{click:function(e){return t.getealrybottom()}}},[a("span",{staticClass:"earlystop_text"},[t._v("STOP amarm!!")])])])])]):a("div",[a("div",{staticClass:"Modalbox-false"},[a("p",[t._v("時間です！")])])])]):t._e()])],1)])},k=[],M=(a("96cf"),a("1da1")),R=a("bc3a"),$=a.n(R),I={props:["parentData","timenowText"],data:function(){return{alarm:{inth:0,intm:0,item:"",outth:"",temp:"",time_start:!1},Modal:{show:!1},swich:!0,justtime:!1,itemstatus:""}},created:function(){this.getreset(),setInterval(this.getjuststatus,1e3),setInterval(this.timer,1e3)},methods:{setting:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.status=!1,t.item=t.parentData,t.alarm.inth=t.item.inth,t.alarm.intm=t.item.intm,a="/api/start/",n=new FormData,n.append("inth",t.alarm.inth),n.append("intm",t.alarm.intm),console.log(n),e.next=11,$.a.post(a,n).then((function(t){console.log(t)})).catch((function(t){console.log(t)}));case 11:t.alarm.intm=("0"+t.alarm.intm).slice(-2),t.alarm.temp=t.alarm.inth+":"+t.alarm.intm,console.log("set:",t.alarm.temp);case 14:case"end":return e.stop()}}),e)})))()},getreset:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.alarm.outth="",t.alarm.temp="",t.alarm.inth=0,t.alarm.inth=0,a="/api/reset/",e.next=7,$.a.get(a).then((function(t){console.log(t)})).catch((function(t){console.log(t)}));case 7:case"end":return e.stop()}}),e)})))()},getealrybottom:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="/api/stop/",e.next=3,$.a.get(a).then((function(t){console.log(t)})).catch((function(t){console.log(t)}));case 3:t.justtime=!1,t.alarm.time_start=!1,t.$router.push({name:"Result"});case 6:case"end":return e.stop()}}),e)})))()},openModal:function(){this.swich=!0,this.Modal.show=!0,this.alarm.time_start=!0,console.log("open_time_start:",this.alarm.time_start)},closeModal:function(){this.justtime=!1,this.Modal.show=!1,this.alarm.time_start=!1,console.log("close_time_start:",this.alarm.time_start)},timer:function(){if(1==this.alarm.time_start){var t=new Date,e=t.getHours(),a=t.getMinutes();a=("0"+a).slice(-2),this.now=e+":"+a,this.alarm.temp==this.now&&(this.swich=!1,this.alarm.time_start=!1,this.justtime=!0)}},getjuststatus:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.justtime){e.next=5;break}return a="/api/status/",e.next=4,$.a.get(a).then((function(e){t.itemstatus=e.data})).catch((function(t){console.log(t)}));case 4:0==t.itemstatus.status&&(t.justtime=!1,t.alarm.time_start=!1,t.$router.push({name:"Result"}));case 5:case"end":return e.stop()}}),e)})))()}}},D=I,E=(a("d7f3"),Object(p["a"])(D,S,k,!1,null,null,null)),T=E.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"detail"}},[a("div",{staticClass:"detailtitle bold"},[t._v("Detail")]),a("div",{staticClass:"detailbox"},[a("p",{staticClass:"bold"},[t._v("graph")]),a("img",{staticClass:"fig_graph",attrs:{src:t.imgSrc,alt:""}})]),a("div",{staticClass:"graphtable detailbox"},[a("p",{staticClass:"bold"},[t._v("data")]),a("table",[t._m(0),t._l(t.table,(function(e,n){return a("tr",{key:n},[a("td",[a("p",[t._v(t._s(n+1))])]),a("td",[a("p",[t._v(t._s(e.date))])]),a("td",[a("p",[t._v(t._s(e.startdate))])]),a("td",[a("p",[t._v(t._s(e.stopdate))])]),a("td",{staticClass:"standoutcolor"},[a("p",{staticClass:"bold"},[t._v(t._s(e.sleeptime))])])])}))],2)])])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[a("span",{staticClass:"whitecolor"},[t._v("ID")])]),a("th",[a("span",{staticClass:"whitecolor"},[t._v("日付")])]),a("th",[a("span",{staticClass:"whitecolor"},[t._v("就寝時間")])]),a("th",[a("span",{staticClass:"whitecolor"},[t._v("起床時間")])]),a("th",[a("span",{staticClass:"whitecolor"},[t._v("睡眠時間")])])])}],W=(a("4160"),a("159b"),{data:function(){return{table:[],imgSrc:"",responsedata:""}},created:function(){this.getimg_file()},methods:{getimg_file:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Date,n=String(a.getTime()),r="graph.png",t.imgSrc="/alaimg/"+r+"/"+n,e.next=6,$.a.get(t.imgSrc).then((function(t){console.log("getImage:("+t.config.url+")")})).catch((function(t){console.log(t)}));case 6:return s="/api/graphtable/",e.next=9,$.a.get(s).then((function(e){t.responsedata=JSON.parse(e.data)})).catch((function(t){console.log(t)}));case 9:t.responsedata.forEach((function(e){t.table.push({date:e.date,startdate:e.startdate,stopdate:e.stopdate,sleeptime:e.sleeptime})}));case 10:case"end":return e.stop()}}),e)})))()}}}),J=W,N=(a("6d33"),Object(p["a"])(J,P,H,!1,null,null,null)),A=N.exports,q={data:function(){return{alarm:{inth:0,intm:0}}},components:{Setmenu:T,Detail:A}},F=q,z=(a("565f"),Object(p["a"])(F,O,j,!1,null,"3275bdfb",null)),B=z.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"result"}},[a("div",{staticClass:"background_img",class:t.weatherImg},[a("div",{staticClass:"current_weather"},[a("p",[a("span",{staticClass:"bold"},[t._v(t._s(this.weather.city))])]),a("p",[t._v("天気："+t._s(this.weather.weather))]),a("p",[t._v("気温："+t._s(this.weather.temperature)+"℃")])]),a("div",{staticClass:"after"},[a("p",{staticClass:"morning-text"},[t._v("おはようございます")]),a("div",{staticClass:"after-time"},[a("p",[t._v("本日の睡眠時間")]),a("p",[t._v(t._s(this.cursleeptime))])]),a("button",{staticClass:"toppage_button",on:{click:function(e){return t.transition()}}},[a("p",[t._v("終了する")])])])])])},K=[],L={data:function(){return{weather:{city:"",weather:"",temperature:"0"},cursleeptime:"",OWdata:"",weatherImg:""}},created:function(){this.getweather()},methods:{getweather:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.weather.city="funabashi",e.next=3,$.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.weather.city,",jp&units=metric&appid=24dc8e7a9194dd0696722fc728772ae2")).then((function(e){t.OWdata=e})).catch((function(t){console.log(t)}));case 3:return console.log(t.OWdata),t.weather.weather=t.OWdata.data.weather[0].main,t.weather.temperature=t.OWdata.data.main.temp,"Sun"==t.weather.weather?t.weatherImg="Sun":"Clouds"==t.weather.weather?t.weatherImg="Clouds":"Rain"==t.weather.weather?t.weatherImg="Rain":"Snow"==t.weather.weather?t.weatherImg="Snow":t.weatherImg="Etc",console.log("Change:"+t.weather.weather),a="/api/graphtable/",e.next=11,$.a.get(a).then((function(e){t.cursleeptime=JSON.parse(e.data)})).catch((function(t){console.log(t)}));case 11:t.cursleeptime=t.cursleeptime[0].sleeptime;case 12:case"end":return e.stop()}}),e)})))()},transition:function(){this.$router.push({name:"Home"})}}},Q=L,U=(a("caa1"),Object(p["a"])(Q,G,K,!1,null,null,null)),V=U.exports;n["a"].use(y["a"]);var X=[{path:"/",name:"Home",component:B},{path:"/result",name:"Result",component:V}],Y=new y["a"]({mode:"history",base:"",routes:X}),Z=Y,tt=a("2f62");n["a"].use(tt["a"]);var et=new tt["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:Z,store:et,render:function(t){return t(C)}}).$mount("#app")},"6d33":function(t,e,a){"use strict";a("3182")},"720f":function(t,e,a){"use strict";a("e644")},"85ec":function(t,e,a){},caa1:function(t,e,a){"use strict";a("f547")},d7f3:function(t,e,a){"use strict";a("4d99")},e644:function(t,e,a){},f547:function(t,e,a){}});
//# sourceMappingURL=app.2e21b83f.js.map